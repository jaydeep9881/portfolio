@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark light;
  --background: 15 23 36; /* #0f1724 */
  --surface: 11 18 32;    /* #0b1220 */
  --muted: 156 163 175;   /* #9ca3af */
  --primary: 139 92 246;  /* #8b5cf6 */
  --accent: 6 182 212;    /* #06b6d4 */
  --star-strong: rgba(255, 255, 255, 0.82);
  --star-dim: rgba(255, 255, 255, 0.35);
  --mouse-x: 0;
  --mouse-y: 0;
}

:root.light {
  --star-strong: rgba(0, 0, 0, 0.6);
  --star-dim: rgba(0, 0, 0, 0.25);
}

html, body, #root {
  height: 100%;
}

body {
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Inter, Noto Sans, Ubuntu, Cantarell, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
}

/* Smooth scroll and selection styles */
* {
  @apply selection:bg-primary/30 selection:text-primary;
}

@layer components {
  .cosmic-background {
    position: fixed;
    inset: 0;
    z-index: 0;
    pointer-events: none;
    overflow: hidden;
    transform: translate3d(calc(var(--mouse-x) * 0.35px), calc(var(--mouse-y) * 0.35px), 0);
    will-change: transform;
    background-color: rgb(var(--background));
    background-image:
      radial-gradient(circle at 16% 22%, rgba(var(--accent), 0.14), transparent 32%),
      radial-gradient(circle at 82% 16%, rgba(var(--primary), 0.12), transparent 30%),
      radial-gradient(circle at 24% 78%, rgba(var(--muted), 0.08), transparent 32%);
    filter: saturate(1.05);
  }

  .cosmic-background::before,
  .cosmic-background::after {
    content: '';
    position: absolute;
    inset: -20%;
    background-repeat: repeat;
    opacity: 0.8;
    will-change: transform, opacity;
  }

  .cosmic-background::before {
    background-image:
      radial-gradient(1px 1px at 20px 30px, var(--star-strong), transparent 55%),
      radial-gradient(1.4px 1.4px at 90px 120px, var(--star-dim), transparent 60%),
      radial-gradient(0.9px 0.9px at 160px 210px, var(--star-strong), transparent 50%),
      radial-gradient(1.8px 1.8px at 60px 180px, var(--star-dim), transparent 55%),
      radial-gradient(2.2px 2.2px at 200px 60px, var(--star-strong), transparent 60%),
      radial-gradient(1.2px 1.2px at 240px 140px, rgba(var(--accent), 0.7), transparent 60%),
      radial-gradient(1.6px 1.6px at 110px 40px, rgba(var(--primary), 0.7), transparent 60%);
    background-size: 140px 140px, 200px 200px, 280px 280px, 220px 220px, 260px 260px, 240px 240px, 300px 300px;
    animation: star-drift 55s linear infinite;
    transform: translate3d(calc(var(--mouse-x) * 0.22px), calc(var(--mouse-y) * 0.22px), 0);
  }

  .cosmic-background::after {
    background-image:
      radial-gradient(1.2px 1.2px at 40px 80px, var(--star-dim), transparent 60%),
      radial-gradient(1px 1px at 120px 40px, var(--star-strong), transparent 55%),
      radial-gradient(1.1px 1.1px at 200px 160px, var(--star-dim), transparent 60%),
      radial-gradient(2.4px 2.4px at 80px 200px, var(--star-strong), transparent 60%),
      radial-gradient(1.6px 1.6px at 180px 100px, var(--star-dim), transparent 60%),
      radial-gradient(2.8px 2.8px at 30px 150px, rgba(var(--accent), 0.5), transparent 60%),
      radial-gradient(1.9px 1.9px at 170px 30px, rgba(var(--primary), 0.6), transparent 60%);
    filter: blur(0.4px);
    animation: star-drift-reverse 75s linear infinite, star-twinkle 3.2s ease-in-out infinite;
    background-size: 180px 180px, 240px 240px, 300px 300px, 200px 200px, 260px 260px, 230px 230px, 320px 320px;
    transform: translate3d(calc(var(--mouse-x) * -0.18px), calc(var(--mouse-y) * -0.18px), 0);
  }
}

@keyframes star-drift {
  from { transform: translate3d(0, 0, 0); }
  to { transform: translate3d(-220px, -180px, 0); }
}

@keyframes star-drift-reverse {
  from { transform: translate3d(0, 0, 0); }
  to { transform: translate3d(180px, 140px, 0); }
}

@keyframes star-twinkle {
  0%, 100% { opacity: 0.35; }
  50% { opacity: 0.65; }
}

/* Glassmorphic card effect */
.glass {
  @apply bg-surface/70 border border-white/5 shadow-lg backdrop-blur;
}

/* Focus and interaction states */
.focus-ring:focus-visible {
  @apply outline-none ring-2 ring-primary ring-offset-2 ring-offset-background;
}

/* Subtle animations */
@layer utilities {
  .animate-float {
    animation: float 4s ease-in-out infinite;
  }
  @keyframes float {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-10px); }
  }
}

/* Inputs stay dark even in light mode */
@layer components {
  .input-base {
    @apply rounded-md px-3 py-2 focus-ring w-full;
    background-color: rgba(255, 255, 255, 0.05);
    color: inherit;
  }
}

.light .input-base {
  background-color: rgb(15 23 36);
  color: white;
}

.input-base::placeholder {
  color: rgb(156 163 175 / 0.8);
}

